<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.1/css/all.css" crossorigin="anonymous">
     <!-- <link rel="stylesheet" href="/css/styles-admin.css"> -->
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>  
     <title>Review Quotes</title>
   
</head>

<body>
    <header>
        <div class="dash-header">
            <a href="/dashboard/admin">Dashboard</a>

            <h1>Welcome Administrator, <%= employee_name %> 
                <!----this is where the user name goes-->
            </h1>

            <a href="/login">Logout</a>
        </div>
    </header>

    

    <div class ="testbox-admin">
    <form action="/api/quotes/review" method="post">

        <div class="one">
            <label>Search by date from:</label>
                <input type="date" name="start_date" min="" max="">
            <label>to</label>
                <input type="date" name="end_date" min="" max="">
        </div>
    
        <div class="two">
        <label>Search by Quote Status</label>
            <div class="select">            
                <select name="status" id="status">
                    <option value="">All</option>
                    <option value="finalized">Finalized</option>
                    <option value="sanctioned">Sanctioned</option>
                    <option value="ordered">Ordered</option>
                </select>
            </div>
        
      
        <label>Search by Associate</label>
            <div class="select">
                <select name="user_name" id="associate">
                    <option value="" aria-placeholder="Select Associate">Select Associate</option>
                    <% emp.forEach(function(field) { %>
                        <option value=<%= field.user_name %>><%= field.user_name %></option>
                    <% }) %>
                </select>
            </div>

        <label>Search by Customer</label>
            <div class="select">
                <select name="customer" id="customer">
                    <option value="">Select Customer</option>
                    <% cust.forEach(function(field){ %>
                        <option value=customer><%= field.name %></option>
                    <% }) %>
                </select>
            </div>


        <div class="search-customer">
            <button id="icon" type="submit"><i class="fa fa-search fa-2x"></i></button> 
        </div> 
    </div>      
    </form>
    </div>
    <hr> <br>

    <table id= "employee_table"  class="table table-striped table-hover" style= "width:80%; margin-left: 7%; background-color: orange">
            <div id="example_wrapper" class="dataTables_wrapper">
                <div class="dataTables_length" id="example_length"><label>Show <select name="example_length" aria-controls="example"
                            class="">
                            <option value="10">10</option>
                            <option value="25">25</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                        </select> entries</label></div>
                <div id="example_filter" class="dataTables_filter"><label>Search:<input type="search" class="" placeholder=""
                            aria-controls="example"></label></div>
                <table id="example" class="display dataTable" style="width:100%" aria-describedby="example_info">

        <thead>
            <tr>
                <tr>
                    <th class="sorting sorting_asc" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-sort="ascending"
                        aria-label="Name: activate to sort column descending" style="width: 131.172px;">Name</th>
                    <th class="sorting" tabindex="0" aria-controls="example" rowspan="1" colspan="1"
                        aria-label="Position: activate to sort column ascending" style="width: 218.172px;">Position</th>
                    <th class="sorting" tabindex="0" aria-controls="example" rowspan="1" colspan="1"
                        aria-label="Office: activate to sort column ascending" style="width: 96.9688px;">Office</th>
                    <th class="sorting" tabindex="0" aria-controls="example" rowspan="1" colspan="1"
                        aria-label="Age: activate to sort column ascending" style="width: 39.0156px;">Age</th>
                    <th class="sorting" tabindex="0" aria-controls="example" rowspan="1" colspan="1"
                        aria-label="Start date: activate to sort column ascending" style="width: 85.5469px;">Start date</th>
                    <th class="sorting" tabindex="0" aria-controls="example" rowspan="1" colspan="1"
                        aria-label="Salary: activate to sort column ascending" style="width: 73.3125px;">Salary</th>
                </tr>
                <th>User Name</th>
                <th>Employee Name</th>
                <th>Commission</th>
                <th>Address</th>
                <th>Role</th>
                <th>Edit Employee</th>
            </tr>
            </thead>
            <tbody>
                <% qte.forEach(function(field){ %>
                    <tr>
                        <td><%= field.user_name %></td>
                        <td><%= field.status %></td>
                        <td><%= field.customer %></td>
                        <td><%= field.cust_email %></td>
                        <td><%= field.line_items %></td>
                        <td><%= field.price %></td>
                        <td><%= field.discount %></td>
                        <td><%= field.secret %></td>
                        <td><%= field.createdAt %></td>
                        <!-- <td><%= field.updatedAt %></td> -->
                        <!-- <td><a href="./edit_employee/<%=field.user_name%>"><button type="button">Edit</button></a></td> -->
                    </tr>
                <% }) %>
                    </tbody>
                        <tfoot>
                            <tr>
                                <th rowspan="1" colspan="1">User Name</th>
                                <th rowspan="1" colspan="1">Employee Name</th>
                                <th rowspan="1" colspan="1">Commission</th>
                                <th rowspan="1" colspan="1">Address</th>
                                <th rowspan="1" colspan="1">Role</th>
                            </tr>
                        </tfoot>
              </table>
                <div class="dataTables_info" id="example_info" role="status" aria-live="polite">Showing 1 to 10 of 57 entries</div>
                <div class="dataTables_paginate paging_simple_numbers" id="example_paginate"><a
                        class="paginate_button previous disabled" aria-controls="example" data-dt-idx="0" tabindex="-1"
                        id="example_previous">Previous</a><span><a class="paginate_button current" aria-controls="example"
                            data-dt-idx="1" tabindex="0">1</a><a class="paginate_button " aria-controls="example" data-dt-idx="2"
                            tabindex="0">2</a><a class="paginate_button " aria-controls="example" data-dt-idx="3" tabindex="0">3</a><a
                            class="paginate_button " aria-controls="example" data-dt-idx="4" tabindex="0">4</a><a
                            class="paginate_button " aria-controls="example" data-dt-idx="5" tabindex="0">5</a><a
                            class="paginate_button " aria-controls="example" data-dt-idx="6" tabindex="0">6</a></span><a
                        class="paginate_button next" aria-controls="example" data-dt-idx="7" tabindex="0" id="example_next">Next</a>
                </div>
                </div>

    
   

    <footer>    	
        <small> &copy; GROUP 3B PLANT SERVICES QUOTE SYSTEM. CSCI 467 </small> 
    </footer> 
</body>
</html>

<script>
    var eventFired = function (type) {
        var n = document.querySelector('#demo_info');
        n.innerHTML += '<div>' + type + ' event - ' + new Date().getTime() + '</div>';
        n.scrollTop = n.scrollHeight;
    }

    document.addEventListener('DOMContentLoaded', function () {
        let table = new DataTable('#example');

        table
            .on('order', function () {
                eventFired('Order');
            })
            .on('search', function () {
                eventFired('Search');
            })
            .on('page', function () {
                eventFired('Page');
            });
    });
</script>
